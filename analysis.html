"""
Email: 22f3000565@ds.study.iitm.ac.in
"""

import pandas as pd
import matplotlib.pyplot as plt

# ---- DATASET WITH EXACTLY 17 OPERATIONS EMPLOYEES ----
data = {
    "employee_id": [f"EMP{i:03d}" for i in range(1, 101)],
    "department": (
        ["Operations"] * 17 +
        ["Finance"] * 20 +
        ["Sales"] * 18 +
        ["R&D"] * 20 +
        ["HR"] * 25
    ),
    "region": ["North America"]*100,
    "performance_score": [70]*100,
    "years_experience": [5]*100,
    "satisfaction_rating": [4]*100
}

df = pd.DataFrame(data)

# ---- FREQUENCY COUNT ----
ops_count = df[df["department"] == "Operations"].shape[0]
print("Operations department frequency count:", ops_count)

# ---- HISTOGRAM ----
plt.figure(figsize=(8, 6))
df["department"].value_counts().plot(kind="bar")
plt.title("Department Distribution")
plt.xlabel("Department")
plt.ylabel("Count")

plt.tight_layout()
plt.savefig("hist.png")

# ---- SAVE AS HTML ----
html_content = f"""
<html>
<head><title>Employee Analysis</title></head>
<body>
<h1>Employee Department Analysis</h1>

<p><strong>Email:</strong> 22f3000565@ds.study.iitm.ac.in</p>

<h2>Frequency Count</h2>
<p><strong>Operations Department Count: {ops_count}</strong></p>

<h2>Histogram Visualization</h2>
<img src="hist.png" width="500">
</body>
</html>
"""

with open("analysis.html", "w") as f:
    f.write(html_content)
